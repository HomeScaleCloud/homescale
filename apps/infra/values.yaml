global:
sourceRepos:
- "*" # tighten in prod
destinations:
- namespace: "*"
server: https://kubernetes.default.svc
clusterResourceWhitelist:
- group: "*"
kind: "*"

# All apps you want to manage per cluster. Toggle enabled and override versions/values per cluster file.
apps:
argocd:
enabled: true
namespace: argocd
syncWave: "-5"
source:
kind: Helm
repoURL: https://argoproj.github.io/argo-helm
chart: argo-cd
version: 6.9.0
values:
global:
domain: "argocd.{{ .Values.global.clusterName }}.example.com" # you can templatize using Helm values
server:
ingress:
enabled: true
ingressClassName: nginx

cert-manager:
enabled: true
namespace: cert-manager
syncWave: "-4"
source:
kind: Helm
repoURL: https://charts.jetstack.io
chart: cert-manager
version: v1.15.3
values:
installCRDs: true

ingress-nginx:
enabled: true
namespace: ingress-nginx
syncWave: "-2"
source:
kind: Helm
repoURL: https://kubernetes.github.io/ingress-nginx
chart: ingress-nginx
version: 4.11.2
values: {}

external-dns:
enabled: true
namespace: dns
syncWave: "0"
source:
kind: Helm
repoURL: https://kubernetes-sigs.github.io/external-dns/
chart: external-dns
version: 1.15.0
values:
provider: cloudflare
txtOwnerId: "{{ .Values.global.clusterName }}"
policy: upsert-only
# Example AVP placeholder; swap to your own Vault path
env:
- name: CF_API_TOKEN
value: "<path:secrets/cloudflare#token>"

tailscale-operator:
enabled: true
namespace: tailscale
syncWave: "1"
source:
kind: Helm
repoURL: https://pkgs.tailscale.com/helm
chart: tailscale-operator
version: 1.74.0
values:
operatorConfig:
# Example AVP placeholder; override per-cluster authKey
authKey: "<path:secrets/tailscale#authkey>"